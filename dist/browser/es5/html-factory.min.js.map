{"version":3,"file":"html-factory.min.js","sources":["html-factory.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar HtmlFactory = function () {\n  function toFragment(children, callback) {\n    var element = document.createDocumentFragment();\n\n    if (!Array.isArray(children)) {\n      children = [children];\n    }\n\n    for (var index = 0, length = children.length; index < length; index++) {\n      var child = children[index];\n\n      if (child == null) {\n        continue;\n      }\n\n      if (!(child instanceof Node)) {\n        var textNode = document.createTextNode(children[index]);\n        element.appendChild(textNode);\n        continue;\n      }\n\n      element.appendChild(children[index]);\n    }\n\n    if (callback) {\n      callback(element);\n    }\n\n    return element;\n  }\n\n  function toElementNs(namespace, name, attributes, children, callback) {\n    var element = document.createElementNS(namespace, name);\n\n    if (attributes) {\n      for (var key in attributes) {\n        var value = attributes[key];\n\n        if (value == null) {\n          continue;\n        }\n\n        element.setAttribute(key, value);\n      }\n    }\n\n    if (children) {\n      element.appendChild(toFragment(children));\n    }\n\n    if (callback) {\n      callback(element);\n    }\n\n    return element;\n  }\n\n  function toElement() {\n    var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'div';\n    var attributes = arguments.length > 1 ? arguments[1] : undefined;\n    var children = arguments.length > 2 ? arguments[2] : undefined;\n    var callback = arguments.length > 3 ? arguments[3] : undefined;\n    return toElementNs('http://www.w3.org/1999/xhtml', name, attributes, children, callback);\n  }\n\n  function fromConfig(config, callback) {\n    var element = config;\n\n    if (Array.isArray(config)) {\n      element = toFragment(config.map(function (value) {\n        return fromConfig(value);\n      }));\n    } else if (_typeof(config) === 'object' && config) {\n      var namespace = config.namespace,\n          name = config.name,\n          attributes = config.attributes,\n          children = config.children,\n          _callback = config.callback;\n\n      if (namespace && name) {\n        element = toElementNs(namespace, name, attributes, fromConfig(children), _callback);\n      } else if (name) {\n        element = toElement(name, attributes, fromConfig(children), _callback);\n      } else if (children) {\n        element = fromConfig(children, _callback);\n      }\n    }\n\n    if (callback) {\n      callback(element);\n    }\n\n    return element;\n  }\n\n  return {\n    toFragment: toFragment,\n    toElementNs: toElementNs,\n    toElement: toElement,\n    fromConfig: fromConfig\n  };\n}();\n/* exported HtmlFactory */"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","HtmlFactory","toFragment","children","callback","element","document","createDocumentFragment","index","length","Array","isArray","child","Node","appendChild","textNode","createTextNode","toElementNs","namespace","name","attributes","createElementNS","key","value","setAttribute","toElement","arguments","undefined","fromConfig","config","map","_callback"],"mappings":"aAEA,SAASA,QAAQC,GAAkC,OAAOD,QAAU,mBAAqBE,QAAU,iBAAmBA,OAAOC,SAAW,SAAUF,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAO,mBAAqBC,QAAUD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,IAAgBA,GAEzU,IAAIK,YAAc,WAChB,SAASC,EAAWC,EAAUC,GAO5B,IANA,IAAIC,EAAUC,SAASC,yBAMdC,EAAQ,EAAGC,GAHlBN,EADGO,MAAMC,QAAQR,GAIUA,EAHhB,CAACA,IAGwBM,OAAQD,EAAQC,EAAQD,IAAS,CACrE,IAAII,EAAQT,EAASK,GAER,MAATI,IAIEA,aAAiBC,KAMvBR,EAAQS,YAAYX,EAASK,KALvBO,EAAWT,SAASU,eAAeb,EAASK,IAChDH,EAAQS,YAAYC,KAWxB,OAJIX,GACFA,EAASC,GAGJA,EAGT,SAASY,EAAYC,EAAWC,EAAMC,EAAYjB,EAAUC,GAC1D,IAAIC,EAAUC,SAASe,gBAAgBH,EAAWC,GAElD,GAAIC,EACF,IAAK,IAAIE,KAAOF,EAAY,CAC1B,IAAIG,EAAQH,EAAWE,GAEV,MAATC,GAIJlB,EAAQmB,aAAaF,EAAKC,GAY9B,OARIpB,GACFE,EAAQS,YAAYZ,EAAWC,IAG7BC,GACFA,EAASC,GAGJA,EAGT,SAASoB,IAKP,OAAOR,EAAY,+BAJW,EAAnBS,UAAUjB,aAA+BkB,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,MAC3C,EAAnBA,UAAUjB,OAAaiB,UAAU,QAAKC,EACrB,EAAnBD,UAAUjB,OAAaiB,UAAU,QAAKC,EACnB,EAAnBD,UAAUjB,OAAaiB,UAAU,QAAKC,GAkCvD,MAAO,CACLzB,WAAYA,EACZe,YAAaA,EACbQ,UAAWA,EACXG,WAlCF,SAASA,EAAWC,EAAQzB,GAC1B,IAOMc,EACAC,EACAC,EACAjB,EAVFE,EAAUwB,EA0Bd,OAxBInB,MAAMC,QAAQkB,GAChBxB,EAAUH,EAAW2B,EAAOC,IAAI,SAAUP,GACxC,OAAOK,EAAWL,MAES,WAApB5B,QAAQkC,IAAwBA,IACrCX,EAAYW,EAAOX,UACnBC,EAAOU,EAAOV,KACdC,EAAaS,EAAOT,WACpBjB,EAAW0B,EAAO1B,SAClB4B,EAAYF,EAAOzB,SAEnBc,GAAaC,EACfd,EAAUY,EAAYC,EAAWC,EAAMC,EAAYQ,EAAWzB,GAAW4B,GAChEZ,EACTd,EAAUoB,EAAUN,EAAMC,EAAYQ,EAAWzB,GAAW4B,GACnD5B,IACTE,EAAUuB,EAAWzB,EAAU4B,KAI/B3B,GACFA,EAASC,GAGJA,IA5FO"}