{"version":3,"file":"html-factory.min.js","sources":["html-factory.min.js"],"sourcesContent":["\"use strict\";\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar HtmlFactory = function () {\n  function renderFragment(children) {\n    var functionCalls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (children == null) {\n      return null;\n    }\n\n    if (Array.isArray(children)) {\n      var functionCallSet = [];\n      var element = [];\n\n      var _iterator = _createForOfIteratorHelper(children),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var child = _step.value;\n          var fragment = renderFragment(child, functionCallSet);\n\n          if (fragment) {\n            element.push(fragment.element);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      functionCalls.splice.apply(functionCalls, [0, 0].concat(functionCallSet));\n      return {\n        element: element.join(''),\n        functionCalls: functionCalls\n      };\n    }\n\n    if (_typeof(children) === 'object' && children.element) {\n      functionCalls.push.apply(functionCalls, _toConsumableArray(children.functionCalls));\n      return {\n        element: children.element,\n        functionCalls: functionCalls\n      };\n    }\n\n    return {\n      element: children,\n      functionCalls: functionCalls\n    };\n  }\n\n  function renderElement(name, attributes, children) {\n    var functionCalls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n    var opening = [name];\n\n    if (attributes) {\n      for (var key in attributes) {\n        var value = attributes[key];\n\n        if (value != null) {\n          opening.push(\"\".concat(key, \"=\\\"\").concat(value, \"\\\"\"));\n        }\n      }\n    }\n\n    var element = [\"<\".concat(opening.join(' '), \">\")];\n\n    if (children != null) {\n      var fragment = renderFragment(children, functionCalls);\n\n      if (fragment) {\n        element.push(fragment.element);\n      }\n\n      element.push(\"</\".concat(name, \">\"));\n    }\n\n    return {\n      element: element.join(''),\n      functionCalls: functionCalls\n    };\n  }\n\n  function renderStyleString(styles) {\n    var styleStrings = [];\n\n    for (var key in styles) {\n      var value = styles[key];\n\n      if (_typeof(value) === 'object') {\n        styleStrings.push(\"\".concat(key, \" { \").concat(renderStyleString(value), \" }\"));\n      } else {\n        styleStrings.push(\"\".concat(key, \": \").concat(value, \";\"));\n      }\n    }\n\n    return styleStrings.join(' ');\n  }\n\n  function renderFunctionCall(functionCall) {\n    if (Array.isArray(functionCall)) {\n      var _functionCall = _toArray(functionCall),\n          _name = _functionCall[0],\n          _args = _functionCall.slice(1);\n\n      return renderFunctionCall({\n        name: _name,\n        arguments: _args\n      });\n    }\n\n    var name = functionCall.name,\n        args = functionCall.arguments;\n    var finalArgs = (Array.isArray(args) ? args : [args]).map(function (arg) {\n      return JSON.stringify(arg);\n    });\n    return \"\".concat(name, \"(\").concat(finalArgs.join(', '), \");\");\n  }\n\n  function makeFragment(children) {\n    var functionCalls = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (children == null) {\n      return null;\n    }\n\n    if (Array.isArray(children)) {\n      var functionCallSet = [];\n      var element = document.createDocumentFragment();\n\n      var _iterator2 = _createForOfIteratorHelper(children),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var child = _step2.value;\n          var fragment = makeFragment(child, functionCallSet);\n\n          if (fragment) {\n            element.append(fragment.element);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      functionCalls.splice.apply(functionCalls, [0, 0].concat(functionCallSet));\n      return {\n        element: element,\n        functionCalls: functionCalls\n      };\n    }\n\n    if (_typeof(children) === 'object' && children.element) {\n      functionCalls.push.apply(functionCalls, _toConsumableArray(children.functionCalls));\n      return {\n        element: children.element,\n        functionCalls: functionCalls\n      };\n    }\n\n    return {\n      element: children,\n      functionCalls: functionCalls\n    };\n  }\n\n  function makeElement(name, attributes, children) {\n    var functionCalls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n    var element = document.createElement(name);\n\n    if (attributes) {\n      for (var key in attributes) {\n        var value = attributes[key];\n\n        if (value != null) {\n          element.setAttribute(key, value);\n        }\n      }\n    }\n\n    var fragment = makeFragment(children, functionCalls);\n\n    if (fragment) {\n      element.append(fragment.element);\n    }\n\n    return {\n      element: element,\n      functionCalls: functionCalls\n    };\n  }\n\n  function makeFunctionCall(functionCall) {\n    if (Array.isArray(functionCall)) {\n      var _functionCall2 = _toArray(functionCall),\n          _name2 = _functionCall2[0],\n          _args2 = _functionCall2.slice(1);\n\n      return makeFunctionCall({\n        name: _name2,\n        arguments: _args2\n      });\n    }\n\n    var name = functionCall.name,\n        args = functionCall.arguments;\n    var func = name.split('.').reduce(function (acc, cur) {\n      return acc[cur];\n    }, window);\n    var finalArgs = Array.isArray(args) ? args : [args];\n    return func.apply(void 0, _toConsumableArray(finalArgs));\n  }\n\n  return {\n    renderFragment: renderFragment,\n    renderElement: renderElement,\n    renderStyleString: renderStyleString,\n    renderFunctionCall: renderFunctionCall,\n    makeFragment: makeFragment,\n    makeElement: makeElement,\n    makeFunctionCall: makeFunctionCall\n  };\n}();\n/* exported HtmlFactory */"],"names":["_toArray","arr","_arrayWithHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableRest","TypeError","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_nonIterableSpread","iter","Symbol","iterator","from","_arrayLikeToArray","_typeof","obj","constructor","prototype","_createForOfIteratorHelper","o","allowArrayLike","i","it","length","s","F","n","done","value","e","_e","f","err","normalCompletion","didErr","call","step","next","_e2","minLen","Object","toString","slice","name","test","len","arr2","HtmlFactory","renderFragment","children","functionCalls","arguments","undefined","_step","functionCallSet","element","_iterator","fragment","push","splice","apply","concat","join","makeFragment","_step2","document","createDocumentFragment","_iterator2","append","renderElement","attributes","opening","key","renderStyleString","styles","styleStrings","renderFunctionCall","functionCall","_functionCall","args","finalArgs","map","arg","JSON","stringify","makeElement","createElement","setAttribute","makeFunctionCall","_functionCall2","func","split","reduce","acc","cur","window"],"mappings":"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"}